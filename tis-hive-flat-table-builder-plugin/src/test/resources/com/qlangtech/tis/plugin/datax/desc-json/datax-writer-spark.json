{
  "com.qlangtech.tis.plugin.datax.DataXSparkWriter":{
    "attrs":[
      {
        "describable":false,
        "eprops":{
          "creator":{
            "label":"数据源管理",
            "routerLink":"/base/basecfg"
          }
        },
        "key":"hiveConn",
        "options":[
          {
            "impl":"com.qlangtech.tis.hive.DefaultHiveConnGetter",
            "name":"hive200"
          }
        ],
        "ord":1,
        "pk":false,
        "required":true,
        "type":6
      },
      {
        "describable":false,
        "eprops":{
          "help":"每进行一次DataX导入在Hive表中会生成一个新的分区，现在系统分区名称为'pt'格式为开始导入数据的时间戳",
          "label":"分区保留数"
        },
        "key":"partitionRetainNum",
        "ord":2,
        "pk":false,
        "required":true,
        "type":4
      },
      {
        "describable":false,
        "eprops":{
          "enum":[
            {
              "label":"yyyyMMddHHmmss",
              "val":"yyyyMMddHHmmss"
            },
            {
              "label":"yyyyMMdd",
              "val":"yyyyMMdd"
            }
          ],
          "help":"每进行一次DataX导入在Hive表中会生成一个新的分区，现在系统分区名称为'pt'格式为开始导入数据的时间戳，格式为'yyyyMMddHHmmss'或者'yyyyMMdd' ",
          "lable":"分区时间戳格式"
        },
        "key":"partitionFormat",
        "ord":4,
        "pk":false,
        "required":true,
        "type":5
      },
      {
        "describable":false,
        "eprops":{
          "creator":{
            "label":"FS管理",
            "routerLink":"/base/basecfg"
          },
          "help":"描述：Hadoop hdfs文件系统namenode节点地址。格式：hdfs://ip:端口；例如：hdfs://127.0.0.1:9000"
        },
        "key":"fsName",
        "options":[
          {
            "impl":"com.qlangtech.tis.hdfs.impl.HdfsFileSystemFactory",
            "name":"hdfs1"
          }
        ],
        "ord":5,
        "pk":false,
        "required":true,
        "type":6
      },
      {
        "describable":false,
        "eprops":{
          "enum":[
            {
              "label":"TEXT",
              "val":"text"
            }
          ],
          "help":"描述：文件的类型，目前只支持用户配置为\"text\""
        },
        "key":"fileType",
        "ord":6,
        "pk":false,
        "required":true,
        "type":5
      },
      {
        "describable":false,
        "eprops":{
          "enum":[
            {
              "label":"Append",
              "val":"append"
            },
            {
              "label":"NonConflict",
              "val":"nonConflict"
            }
          ],
          "help":"描述：hdfswriter写入前数据清理处理模式：append，写入前不做任何处理，DataX hdfswriter直接使用filename写入，并保证文件名不冲突，nonConflict：如果目录下有fileName前缀的文件，直接报错 "
        },
        "key":"writeMode",
        "ord":9,
        "pk":false,
        "required":true,
        "type":5
      },
      {
        "describable":false,
        "eprops":{
          "help":"描述：hdfswriter写入时的字段分隔符,"
        },
        "key":"fieldDelimiter",
        "ord":10,
        "pk":false,
        "required":true,
        "type":1
      },
      {
        "describable":false,
        "eprops":{
          "dftVal":"utf-8",
          "enum":[
            {
              "label":"Big5",
              "val":"big5"
            },
            {
              "label":"Big5-HKSCS",
              "val":"big5-hkscs"
            },
            {
              "label":"CESU-8",
              "val":"cesu-8"
            },
            {
              "label":"EUC-JP",
              "val":"euc-jp"
            },
            {
              "label":"EUC-KR",
              "val":"euc-kr"
            },
            {
              "label":"GB18030",
              "val":"gb18030"
            },
            {
              "label":"GB2312",
              "val":"gb2312"
            },
            {
              "label":"GBK",
              "val":"gbk"
            },
            {
              "label":"JIS_X0201",
              "val":"jis_x0201"
            },
            {
              "label":"JIS_X0212-1990",
              "val":"jis_x0212-1990"
            },
            {
              "label":"KOI8-R",
              "val":"koi8-r"
            },
            {
              "label":"KOI8-U",
              "val":"koi8-u"
            },
            {
              "label":"Shift_JIS",
              "val":"shift_jis"
            },
            {
              "label":"TIS-620",
              "val":"tis-620"
            },
            {
              "label":"US-ASCII",
              "val":"us-ascii"
            },
            {
              "label":"UTF-16",
              "val":"utf-16"
            },
            {
              "label":"UTF-16BE",
              "val":"utf-16be"
            },
            {
              "label":"UTF-16LE",
              "val":"utf-16le"
            },
            {
              "label":"UTF-32",
              "val":"utf-32"
            },
            {
              "label":"UTF-32BE",
              "val":"utf-32be"
            },
            {
              "label":"UTF-32LE",
              "val":"utf-32le"
            },
            {
              "label":"UTF-8",
              "val":"utf-8"
            },
            {
              "label":"X-UTF-32BE-BOM",
              "val":"x-utf-32be-bom"
            },
            {
              "label":"X-UTF-32LE-BOM",
              "val":"x-utf-32le-bom"
            }
          ],
          "help":"描述：写文件的编码配置。"
        },
        "key":"encoding",
        "ord":12,
        "pk":false,
        "required":false,
        "type":5
      },
      {
        "describable":false,
        "eprops":{
          "dftVal":"{\n  \"name\": \"${writer.dataxPluginName}\",\n  \"parameter\": {\n    \"fileType\": \"$writer.fileType\",\n    \"fileName\": \"$writer.tableName\",\n    \"hiveTableName\":\"$writer.tableName\",\n    \"dataxName\" : \"$writer.dataXName\",\n    \"ptRetainNum\": $writer.partitionRetainNum,\n    \"ptFormat\": \"$writer.partitionFormat\",\n    \"column\": [\n      #foreach($c in $writer.cols)\n       {\"name\":\"$c.name\",\"type\":\"$c.type\"},\n      #end\n    ],\n    \"writeMode\": \"$writer.writeMode\",\n     #if($writer.containEncoding) \"encoding\": \"$writer.encoding\", #end\n     \"fieldDelimiter\": \"$writer.fieldDelimiter\",\n     #if($writer.containCompress)\"compress\":\"$writer.compress\"#end\n  }\n}",
          "help":"无特殊情况请不要修改模版内容，避免不必要的错误",
          "label":"配置模版",
          "rows":18
        },
        "key":"template",
        "ord":15,
        "pk":false,
        "required":true,
        "type":2
      }
    ],
    "displayName":"Spark",
    "extendPoint":"com.qlangtech.tis.datax.impl.DataxWriter",
    "extractProps":{
      "rdbms":false,
      "supportMultiTable":true
    },
    "impl":"com.qlangtech.tis.plugin.datax.DataXSparkWriter",
    "veriflable":false
  }
}